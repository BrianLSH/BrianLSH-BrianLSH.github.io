---
title: 头像同步及轮播
tags: Vue 项目 后台管理
toc: true
date: 2020-04-20
categories:
- [Vue, 项目, 游乐招商]
---

### 头像更新及carousel的使用

#### 头像更新--eventBus

```js

// 公共实例
import Vue from 'vue'
export default new Vue() // 公共实例 => 实例化了一个Vue


  // 认为保存成功 => 通知header组件 更新信息
    eventBus.$emit('updateUserInfo')

   eventBus.$on('updateUserInfo', () => {
        // 认为别人更新了数据 自己也应该更新
        this.getUserInfo()
      })
```
#### 素材轮播展示--carousel

```css
carsouel 是懒加载的  第一次没有弹出之前  是没有组件元素的
即使拿到index 也没法用，因为不知道什么时间加载完，什么时间要用

dialog 的open 方法， 不能用，不知道什么时间渲染完成，所以用opened

轮播逻辑
dialog 渲染 list 里面的数据
点击时转存索引  通过opened事件 用 ref调用文档中的api setActiveItem（索引实现跳转）
```
#### 

```js
```
#### 

```js
```
#### 

```js
```