---
title: 优化-性能优化
toc: true
tags: 性能优化 浏览器渲染 缓存
date: 2020-7-25
categories:
- [优化]
---

### 前端性能优化

```js
1、加载优化  
	静态资源加载优化，cdn or oss



	
	尽可能少的加载外联css、js代码，html头部，增加dsn-preftch，减少dns解析时间
	压缩css js pic，减小体积，服务端开启gzip压缩
	控制http请求
	js加载脚本阻塞浏览器主线程，考虑异步， 如 async
    利用好缓存，利用好http响应头缓存字段，开启静态资源缓存
    
2、浏览器渲染
	css层不要太深，避免最内层使用统配选择器
	js脚本不要太复杂，减少js解析时间，少引用复杂的第三方脚本
	模块按需加载，按需打包，首页仅仅加载和执行和首屏相关的脚本，其他脚本延迟加载
	第三方包需不需 要精简
	打包优化，code split webpack

3，缓存
	内存  响应资源放入内存，直接读取，无需线程转换， 消耗资源
	客户端缓存
	HTTp缓存   catche-control与服务器进行数据协商，根据标准缓存活着更新资源
	网络相关的缓存  一般指dns解析结果的缓存或者预连接缓存，创建一个https成本很大
	cdn  根据用户ip地址及请求的url选择一台距离用户比较近的资源缩短路径，提升性能  
	localstorage缓存html文档首次访问页面时，js执行完后会生成完整的html文档，缓存到localstorage里面  

浏览器js占用大量时间

LINUX命令将一个文件夹里面的所有文件复制到指定文件里     cp -r /root/XXX/Account/. /ftp/ZJNX
```